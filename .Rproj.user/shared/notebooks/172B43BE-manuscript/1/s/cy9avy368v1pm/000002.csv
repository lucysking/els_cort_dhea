"0","#extract model residuals for plotting"
"0","coupling_mod1_resid <- lm("
"0","  scale(cort_slope_yr) ~ "
"0","    scale(cort_clean_t1) +"
"0","    scale(dhea_clean_t1),"
"0","  data = cd_wf_clean"
"0",")"
"0","cd_wf_clean <-"
"0","  cd_wf_clean %>% "
"0","  add_residuals(coupling_mod1_resid, var = ""cort_slope_resid"")"
"0","#save intercepts and slopes"
"0","slope_threat_cent <- "
"0","  coupling_mod1_df$`scale(dhea_slope_yr_win)_estimate`"
"0","int_threat_cent <-"
"0","  coupling_mod1_df$`(Intercept)_estimate`"
"0","slope_threat_lo <- "
"0","  coupling_mod_lo_df$`scale(dhea_slope_yr_win)_estimate`"
"0","int_threat_lo <-"
"0","  coupling_mod_lo_df$`(Intercept)_estimate`"
"0","slope_threat_hi <- "
"0","  coupling_mod_hi_df$`scale(dhea_slope_yr_win)_estimate`"
"0","int_threat_hi <-"
"0","  coupling_mod_hi_df$`(Intercept)_estimate`"
"0","int_slope_df <-"
"0","  tibble("
"0","  ""Threat"" = c(""b"", ""a""),"
"0","  ""Intercept"" = c(int_threat_hi, int_threat_lo),"
"0","  ""Slope"" = c(slope_threat_hi, slope_threat_lo)"
"0",")"
"0","## plot "
"0","cd_wf_clean %>% "
"0","  ggplot("
"0","    aes("
"0","      dhea_slope_yr_win, "
"0","      cort_slope_resid"
"0","    )"
"0","  ) +"
"0","  geom_point(size = 2, alpha = 1/2, aes(shape = male)) +"
"0","  geom_abline("
"0","    data = int_slope_df,"
"0","    aes("
"0","      intercept = Intercept,"
"0","      slope = Slope,"
"0","      color = Threat"
"0","    ),"
"0","    size = 2"
"0","  ) +"
"0","  scale_shape_manual("
"0","    labels = NULL,"
"0","    values = c(2, 1)"
"0","  ) +"
"0","  guides(shape = FALSE) +"
"0","  scale_color_manual("
"0","    labels = c(""Lower (-1SD)"", ""Higher (+1SD)""),"
"0","    values = c(""darkblue"", ""darkred"")"
"0","  ) +"
"0","  scale_y_continuous(breaks = seq.int(-2, 2.5, .5)) +"
"0","  labs("
"0","    shape = NULL,"
"0","    color = ""Threat severity"","
"0","    x = ""log DHEA slope from T1 to T2"","
"0","    y = ""log Cortisol slope from T1 to T2\n(standardized residuals)"""
"0","  ) "
