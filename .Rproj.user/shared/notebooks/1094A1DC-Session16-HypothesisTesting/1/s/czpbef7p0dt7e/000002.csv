"0","runSimulation <- function("
"0","  #arguments for the function"
"0","  trueDifference, "
"0","  nPerGroup, "
"0","  alpha = 0.05, "
"0","  nSims = 5000,"
"0","  print.output = FALSE) {"
"0","  "
"0","  pVals <- array(NA, nSims) #create an empty array for storing 5000 p-values "
"0","  "
"0","  for (i in 1:nSims) {"
"0","    simData_CA <- rnorm(nPerGroup, mean = 10, sd = 1)"
"0","    simData_TX <- rnorm(nPerGroup, mean = 10 + trueDifference, sd = 1)"
"0","    t.result <- t.test(simData_CA, simData_TX, var.equal = TRUE)"
"0","    pVals[i] <- t.result$p.value"
"0","  }"
"0","  "
"0","  if (print.output) {"
"0","    print(paste("
"0","      ""proportion of significant results (over"", nSims, ""simulations):"", "
"0","      mean(pVals <= alpha)"
"0","    ))"
"0","    "
"0","  }"
"0","  "
"0","  return(mean(pVals <= alpha))"
"0","  "
"0","}"
"0","nPerGroup <- 20"
"0","trueDifference <- 0"
"0","sim.out <- runSimulation(trueDifference, nPerGroup, print.output = TRUE)"
"1","[1]"
"1"," ""proportion of significant results (over 5000 simulations): 0.0466"""
"1","
"
